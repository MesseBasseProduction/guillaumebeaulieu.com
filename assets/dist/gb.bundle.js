/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/gb.js":
/*!**********************!*\
  !*** ./src/js/gb.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _scss_gb_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../scss/gb.scss */ \"./src/scss/gb.scss\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\nvar DEBUG = false;\nvar gb = /*#__PURE__*/function () {\n  function gb() {\n    var _this = this;\n    _classCallCheck(this, gb);\n    // Determine language from local storage or from navigator language\n    this._lang = localStorage.getItem('website-lang');\n    if (this._lang === null) {\n      this._lang = ['de', 'en', 'es', 'fr', 'pt'].indexOf(navigator.language.substring(0, 2)) !== -1 ? navigator.language.substring(0, 2) : 'en';\n      localStorage.setItem('website-lang', this._lang);\n    }\n    // Class internals for lang, translations and artist info\n    this._nls = null;\n    this._info = null;\n    this._mainScroll = null;\n    this._version = '1.0.0';\n    // Begin website initialization\n    if (DEBUG === true) {\n      console.log(\"guillaumebeaulieu.com v\".concat(this._version, \" : Begin website initialization\"));\n    }\n    this._initLang().then(this._fetchArtistInfo.bind(this)).then(this._buildPage.bind(this)).then(this._events.bind(this)).then(this._finalizeInit.bind(this))[\"catch\"](function (err) {\n      // Error are displayed even if DEBUG is set to false, to notify end user to contact support\n      console.error(\"guillaumebeaulieu.com v\".concat(_this._version, \" : Fatal error during initialization, please contact support :\\n\"), err);\n    })[\"finally\"](function () {\n      if (DEBUG === true) {\n        console.log(\"guillaumebeaulieu.com v\".concat(_this._version, \" : Website initialization done\"));\n      }\n    });\n  }\n  return _createClass(gb, [{\n    key: \"_initLang\",\n    value: function _initLang() {\n      var _this2 = this;\n      if (DEBUG === true) {\n        console.log(\"1. Fetch language keys with \".concat(this._lang, \" locale\"));\n      }\n      return new Promise(function (resolve, reject) {\n        fetch(\"assets/json/\".concat(_this2._lang, \".json\")).then(function (data) {\n          data.json().then(function (nlsKeys) {\n            if (DEBUG === true) {\n              console.log(\"2. Language keys successfully retrieven\");\n            }\n            _this2._nls = nlsKeys;\n            // Update select menu with supported langs\n            var select = document.getElementById('lang-select');\n            for (var i = 0; i < select.children.length; ++i) {\n              select.children[i].innerHTML = _this2._nls.lang[select.children[i].value];\n              if (select.children[i].value === _this2._lang) {\n                select.children[i].setAttribute('selected', true);\n              }\n            }\n            // Update nav and shared elements between pages\n            document.querySelector('#nls-nav-biography').innerHTML = _this2._nls.nav.biography;\n            document.querySelector('#nls-nav-biography').href = \"/\".concat(_this2._nls.pages.biography);\n            document.querySelector('#nls-nav-discography').innerHTML = _this2._nls.nav.discography;\n            document.querySelector('#nls-nav-discography').href = \"/\".concat(_this2._nls.pages.discography);\n            document.querySelector('#nls-nav-medias').innerHTML = _this2._nls.nav.medias;\n            document.querySelector('#nls-nav-medias').href = \"/\".concat(_this2._nls.pages.medias);\n            document.querySelector('#nls-nav-links').innerHTML = _this2._nls.nav.links;\n            document.querySelector('#nls-nav-links').href = \"/\".concat(_this2._nls.pages.links);\n            // Listen to lang update\n            select.addEventListener('change', function (e) {\n              localStorage.setItem('website-lang', e.target.value);\n              window.location.reload();\n            });\n            resolve();\n          })[\"catch\"](function (err) {\n            if (DEBUG === true) {\n              console.log(\"Err. Can't parse language keys, the JSON file may be is invalid\");\n            }\n            reject(err);\n          });\n        })[\"catch\"](function (err) {\n          if (DEBUG === true) {\n            console.log(\"Err. Couldn't retrieve language keys\");\n          }\n          reject(err);\n        });\n      });\n    }\n  }, {\n    key: \"_fetchArtistInfo\",\n    value: function _fetchArtistInfo() {\n      var _this3 = this;\n      if (DEBUG === true) {\n        console.log(\"1. Fetch band links and releases\");\n      }\n      return new Promise(function (resolve, reject) {\n        fetch(\"assets/json/info.json\").then(function (data) {\n          data.json().then(function (infoKeys) {\n            if (DEBUG === true) {\n              console.log(\"2. Links and releases successfully retrieven\");\n            }\n            _this3._info = infoKeys;\n            resolve();\n          })[\"catch\"](function (err) {\n            if (DEBUG === true) {\n              console.log(\"Err. Can't parse language keys, the JSON file may be is invalid\");\n            }\n            reject(err);\n          });\n        })[\"catch\"](function (err) {\n          if (DEBUG === true) {\n            console.log(\"Err. Couldn't retrieve language keys\");\n          }\n          reject(err);\n        });\n      });\n    }\n  }, {\n    key: \"_buildPage\",\n    value: function _buildPage() {\n      var _this4 = this;\n      if (DEBUG === true) {\n        console.log(\"5. Build HTML DOM depending on the page type\");\n      }\n      return new Promise(function (resolve) {\n        document.querySelector('#info-modal').addEventListener('click', _this4._infoModal.bind(_this4));\n        if (document.body.dataset.type === 'biography') {\n          _this4._buildBiographyPage();\n        } else if (document.body.dataset.type === 'discography') {\n          _this4._buildDiscographyPage();\n        } else if (document.body.dataset.type === 'medias') {\n          _this4._buildMediasPage();\n        } else if (document.body.dataset.type === 'links') {\n          _this4._buildLinksPage();\n        } else {\n          _this4._build404Page();\n        }\n        resolve();\n      });\n    }\n  }, {\n    key: \"_buildBiographyPage\",\n    value: function _buildBiographyPage() {\n      var _this5 = this;\n      if (DEBUG === true) {\n        console.log(\"5. Init website with the artist biography page\");\n      }\n      // Update page title\n      document.title = \"Guillaume Beaulieu | \".concat(this._nls.nav.biography);\n      document.querySelector('#nls-bio-short').innerHTML = this._nls.biography[\"short\"];\n      document.querySelector('#nls-bio-content1').innerHTML = this._nls.biography.content1;\n      document.querySelector('#nls-bio-content2').innerHTML = this._nls.biography.content2;\n      document.querySelector('#nls-bio-content3').innerHTML = this._nls.biography.content3;\n      document.querySelector('#nls-bio-content4').innerHTML = this._nls.biography.content4;\n      document.querySelector('#nls-bio-content5').innerHTML = this._nls.biography.content5;\n      // Handle image slideshow\n      var spans = document.querySelector('#photo-select').children;\n      var _loop = function _loop(i) {\n        spans[i].addEventListener('click', function () {\n          for (var j = 0; j < spans.length; ++j) {\n            spans[j].classList.remove('active');\n          }\n          spans[i].classList.add('active');\n          document.querySelector('#artist-picture-path').src = \"/assets/img/artists/\".concat(_this5._info.pictures.path[i]);\n          document.querySelector('#artist-picture-author').textContent = _this5._info.pictures.author[i];\n        });\n      };\n      for (var i = 0; i < spans.length; ++i) {\n        _loop(i);\n      }\n    }\n  }, {\n    key: \"_buildDiscographyPage\",\n    value: function _buildDiscographyPage() {\n      if (DEBUG === true) {\n        console.log(\"5. Init website with the artist discography page\");\n      }\n      // Update page title\n      document.title = \"Guillaume Beaulieu | \".concat(this._nls.nav.discography);\n      document.querySelector('#nls-disco-description').innerHTML = this._nls.discography.description;\n      // Build artist releases\n      for (var i = 0; i < this._info.releases.length; ++i) {\n        var container = document.createElement('DIV');\n        container.classList.add('release');\n        container.innerHTML = \"\\n        <img src=\\\"/assets/img/releases/\".concat(this._info.releases[i].cover, \"\\\" alt=\\\"release-image\\\">\\n        <h1>\").concat(this._info.releases[i].title, \"</h1>\\n        <h2>\").concat(this._info.releases[i].artist, \"</h2>\\n      \");\n        document.querySelector('#releases-wrapper').appendChild(container);\n        container.addEventListener('click', this._releaseModal.bind(this, i));\n      }\n    }\n  }, {\n    key: \"_buildMediasPage\",\n    value: function _buildMediasPage() {\n      if (DEBUG === true) {\n        console.log(\"5. Init website with the artist medias page\");\n      }\n      // Update page title\n      document.title = \"Guillaume Beaulieu | \".concat(this._nls.nav.medias);\n      document.querySelector('#nls-medias-description').innerHTML = this._nls.medias.description;\n      document.querySelector('#nls-medias-link').innerHTML = this._nls.medias.link;\n      // Build media elements\n      for (var i = 0; i < this._info.medias.length; ++i) {\n        var date = new Intl.DateTimeFormat(this._lang, {\n          year: 'numeric',\n          month: 'long',\n          day: 'numeric'\n        }).format(new Date(this._info.medias[i].date));\n        var container = document.createElement('DIV');\n        container.classList.add('media');\n        container.innerHTML = \"\\n        <iframe src=\\\"\".concat(this._info.medias[i].url, \"\\\" title=\\\"\").concat(this._info.medias[i].title, \"\\\" allowfullscreen=\\\"\\\" sandbox=\\\"allow-same-origin allow-scripts allow-popups\\\" frameborder=\\\"0\\\"></iframe>\\n        <h2>\").concat(this._info.medias[i].title, \"</h2>\\n        <h3>\").concat(date, \"</h3>\\n      \");\n        document.querySelector('#medias-wrapper').appendChild(container);\n      }\n    }\n  }, {\n    key: \"_buildLinksPage\",\n    value: function _buildLinksPage() {\n      if (DEBUG === true) {\n        console.log(\"5. Init website with the artist links page\");\n      }\n      // Update page title\n      document.title = \"Guillaume Beaulieu | \".concat(this._nls.nav.links);\n      document.querySelector('#nls-links-description').innerHTML = this._nls.links.linksDescription;\n      document.querySelector('#nls-links-contact').innerHTML = this._nls.links.linksContact;\n      // Build artist links\n      for (var i = 0; i < this._info.links.length; ++i) {\n        var container = document.createElement('A');\n        container.href = this._info.links[i].url;\n        container.setAttribute('target', '_blank');\n        container.setAttribute('rel', 'noopener');\n        container.classList.add('link');\n        container.innerHTML = \"\\n        <img src=\\\"/assets/img/logo/\".concat(this._info.links[i].type, \".svg\\\" alt=\\\"release-image\\\">\\n        <h1>\").concat(this._nls.links[this._info.links[i].type], \"</h1>\\n      \");\n        document.querySelector('#links-wrapper').appendChild(container);\n      }\n    }\n  }, {\n    key: \"_build404Page\",\n    value: function _build404Page() {\n      if (DEBUG === true) {\n        console.log(\"5. Init website with the 404 page\");\n      }\n      // Update page title\n      document.title = \"Guillaume Beaulieu | \".concat(this._nls.nav.error404);\n      document.querySelector('#nls-404-title').innerHTML = this._nls.page404.title;\n      document.querySelector('#nls-404-description').innerHTML = this._nls.page404.description;\n    }\n  }, {\n    key: \"_events\",\n    value: function _events() {\n      // Blur modal event\n      document.getElementById('modal-overlay').addEventListener('click', this._closeModal.bind(this));\n    }\n  }, {\n    key: \"_finalizeInit\",\n    value: function _finalizeInit() {\n      var _this6 = this;\n      return new Promise(function (resolve) {\n        document.querySelector('#loading-overlay').style.opacity = 0;\n        setTimeout(function () {\n          document.querySelector('#loading-overlay').style.display = 'none';\n          _this6._mainScroll = new window.ScrollBar({\n            target: document.body,\n            style: {\n              color: 'white'\n            }\n          });\n          // Force raf after scroll creation to make scrollbar properly visible\n          requestAnimationFrame(function () {\n            _this6._mainScroll.updateScrollbar();\n            resolve();\n          });\n        }, 400);\n      });\n    }\n\n    // Modal related methods\n  }, {\n    key: \"_infoModal\",\n    value: function _infoModal() {\n      var _this7 = this;\n      var overlay = document.getElementById('modal-overlay');\n      // Open modal event\n      fetch(\"assets/html/modal/infomodal.html\").then(function (data) {\n        overlay.style.display = 'flex';\n        data.text().then(function (htmlString) {\n          var container = document.createRange().createContextualFragment(htmlString);\n          container.querySelector('#nls-modal-title').innerHTML = _this7._nls.modal.info.title;\n          container.querySelector('#nls-modal-content1').innerHTML = _this7._nls.modal.info.content1;\n          container.querySelector('#nls-modal-content2').innerHTML = _this7._nls.modal.info.content2;\n          container.querySelector('#nls-modal-content3').innerHTML = _this7._nls.modal.info.content3;\n          container.querySelector('#close-modal-button').innerHTML = _this7._nls.close;\n          overlay.appendChild(container);\n          setTimeout(function () {\n            return overlay.style.opacity = 1;\n          }, 50);\n        });\n      })[\"catch\"](function (e) {\n        return console.error(e);\n      });\n    }\n  }, {\n    key: \"_releaseModal\",\n    value: function _releaseModal(index) {\n      var _this8 = this;\n      var overlay = document.getElementById('modal-overlay');\n      // Open modal event\n      fetch(\"assets/html/modal/releasemodal.html\").then(function (data) {\n        overlay.style.display = 'flex';\n        data.text().then(function (htmlString) {\n          var date = new Intl.DateTimeFormat(_this8._lang, {\n            year: 'numeric',\n            month: 'long',\n            day: 'numeric'\n          }).format(new Date(_this8._info.releases[index].date));\n          var container = document.createRange().createContextualFragment(htmlString);\n          container.querySelector('#release-title').innerHTML = _this8._info.releases[index].title;\n          container.querySelector('#release-cover').src = \"/assets/img/releases/\".concat(_this8._info.releases[index].cover);\n          container.querySelector('#release-performer').innerHTML = \"\".concat(_this8._nls.modal.release.discFrom, \" <i>\").concat(_this8._info.releases[index].artist, \"</i>\");\n          container.querySelector('#release-publisher').innerHTML = \"\".concat(_this8._nls.modal.release.publishedOn, \" \").concat(date, \" \").concat(_this8._nls.modal.release.publishedBy, \" <a href=\\\"\").concat(_this8._info.releases[index].labelLink, \"\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" alt=\\\"label-link\\\">\").concat(_this8._info.releases[index].label, \"</a>\");\n          container.querySelector('#release-duration').innerHTML = \"\".concat(_this8._info.releases[index].tracks, \" \").concat(_this8._nls.modal.release.tracks, \" \\u2013 \").concat(_this8._info.releases[index].duration);\n          container.querySelector('#close-modal-button').innerHTML = _this8._nls.close;\n          for (var i = 0; i < _this8._info.releases[index].links.length; ++i) {\n            var link = document.createElement('A');\n            link.href = _this8._info.releases[index].links[i].url;\n            link.classList.add('link');\n            link.setAttribute('target', '_blank');\n            link.setAttribute('rel', 'noopener');\n            link.innerHTML = \"\\n            <img src=\\\"/assets/img/logo/\".concat(_this8._info.releases[index].links[i].type, \".svg\\\" alt=\\\"link-icon\\\">\\n            <p>\").concat(_this8._nls.links[_this8._info.releases[index].links[i].type], \"</p>\\n          \");\n            container.querySelector('#release-links').appendChild(link);\n          }\n          new window.ScrollBar({\n            target: container.querySelector('#modal-content'),\n            style: {\n              color: 'white'\n            }\n          });\n          overlay.appendChild(container);\n          setTimeout(function () {\n            return overlay.style.opacity = 1;\n          }, 50);\n        });\n      })[\"catch\"](function (e) {\n        return console.error(e);\n      });\n    }\n  }, {\n    key: \"_closeModal\",\n    value: function _closeModal(e) {\n      if (e.originalTarget.id !== 'modal-overlay' && e.originalTarget.className !== 'close-modal') {\n        return;\n      }\n      var overlay = document.getElementById('modal-overlay');\n      if (overlay.style.display === 'flex') {\n        overlay.style.opacity = 0;\n        setTimeout(function () {\n          overlay.innerHTML = '';\n          overlay.style = '';\n        }, 400);\n      }\n    }\n  }]);\n}();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (gb);\n\n//# sourceURL=webpack://gb/./src/js/gb.js?");

/***/ }),

/***/ "./src/scss/gb.scss":
/*!**************************!*\
  !*** ./src/scss/gb.scss ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n\n\n//# sourceURL=webpack://gb/./src/scss/gb.scss?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/js/gb.js");
/******/ 	window.gb = __webpack_exports__["default"];
/******/ 	
/******/ })()
;